<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DetailFlow | The All-in-One App for Mobile Detailers</title>
    <!-- Chosen Palette: Modern Auto Tech (Dark Charcoal, Vibrant Blue Accent, Light Gray/White Text) -->
    <!-- Application Structure Plan: A single-page, top-to-bottom marketing landing page. The structure is designed to guide the user from an initial pitch to a call-to-action (CTA). -->
    <!-- Visualization & Content Choices: The source copy is purely textual marketing content. Goal: Persuade. The primary persuasive points are the mobile convenience, the time-saving benefits, and the professional appearance of the app itself. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
      body {
        font-family: 'Inter', sans-serif;
        background-color: #111827;
      }
      .gradient-text {
        background-image: linear-gradient(to right, #6EE7B7, #3B82F6);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        color: transparent;
      }
      .blue-glow {
        box-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
      }
      .popup {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 100;
        background-color: #1F2937;
        padding: 2.5rem;
        border-radius: 1rem;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        display: none;
      }
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        z-index: 99;
        display: none;
      }
    </style>
  </head>
  <body>
    <!-- Main Content Wrapper -->
    <div class="min-h-screen flex flex-col items-center justify-start text-white">
      <!-- Hero Section -->
      <header class="w-full max-w-7xl mx-auto py-12 px-6 text-center">
        <h1 class="text-4xl sm:text-5xl md:text-6xl font-extrabold leading-tight mb-4 tracking-tight">
          The One App to Run Your Entire <br class="hidden md:inline">
          <span class="gradient-text">Mobile Detailing Business</span>
        </h1>
        <p class="text-lg sm:text-xl text-gray-400 mb-8 max-w-3xl mx-auto">
          Tired of chasing down clients, juggling calendars, and dealing with no-shows?
          <br>
          Your time is money. Our app handles the chaos of your business so you can focus on what you do bestâ€”making cars look incredible.
        </p>
        <button id="get-started-btn" class="bg-blue-600 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-blue-700 transition duration-300 transform hover:scale-105 blue-glow">
          Get Started Free
        </button>
      </header>

      <!-- App Dashboard Mockup Section -->
      <section class="w-full max-w-6xl mx-auto px-6 mb-24">
        <div class="relative w-full rounded-2xl overflow-hidden shadow-2xl blue-glow bg-gray-800 p-8 flex items-center justify-center min-h-[300px]">
          <span class="text-white text-3xl font-bold">App Dashboard Mockup</span>
        </div>
      </section>
    </div>

    <!-- Popup Modal for Email Capture -->
    <div id="email-popup" class="popup rounded-2xl">
      <div class="flex flex-col items-center justify-center p-4">
        <h2 class="text-2xl font-bold mb-2 text-white">Get Early Access!</h2>
        <p class="text-gray-400 text-center mb-6">Enter your email below to be notified when we launch.</p>
        <form id="email-form" class="w-full flex flex-col items-center">
          <input type="email" id="email-input" placeholder="you@example.com" required
            class="w-full p-3 mb-4 text-gray-200 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500">
          <button type="submit" id="sign-up-btn" class="w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition duration-300">
            Sign Up Now
          </button>
        </form>
        <button id="close-popup-btn" class="mt-4 text-gray-500 hover:text-gray-300 transition duration-300">
          No thanks, I'll wait.
        </button>
      </div>
    </div>
    <div id="modal-overlay" class="modal-overlay"></div>

    <!-- Custom Alert Message Box -->
    <div id="message-box" class="popup rounded-2xl p-6" style="display: none;">
        <h3 id="message-title" class="text-xl font-bold mb-2 text-white"></h3>
        <p id="message-body" class="text-gray-400 text-center mb-6"></p>
        <button id="message-ok-btn" class="w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition duration-300">OK</button>
    </div>

    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
      import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

      // Global variables for Firebase config from Vercel's environment variables
      const firebaseConfig = {
          apiKey: "AIzaSyA3hAGrDo6IW6L1K5WUKQn1Foxnnkv74oI",
          authDomain: "detailflow-app.firebaseapp.com",
          projectId: "detailflow-app",
          storageBucket: "detailflow-app.appspot.com",
          messagingSenderId: "785192955134",
          appId: "1:785192955134:web:42fc70995bf21cdabe49af",
          measurementId: "G-ZG7JWTVG36"
      };
      
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      // DOM Elements
      const getStartedBtn = document.getElementById('get-started-btn');
      const emailPopup = document.getElementById('email-popup');
      const modalOverlay = document.getElementById('modal-overlay');
      const closePopupBtn = document.getElementById('close-popup-btn');
      const emailForm = document.getElementById('email-form');
      const emailInput = document.getElementById('email-input');
      const messageBox = document.getElementById('message-box');
      const messageTitle = document.getElementById('message-title');
      const messageBody = document.getElementById('message-body');
      const messageOkBtn = document.getElementById('message-ok-btn');

      // Function to show a custom message box instead of alert()
      function showMessageBox(title, message) {
        messageTitle.textContent = title;
        messageBody.textContent = message;
        messageBox.style.display = 'block';
        modalOverlay.style.display = 'block';
      }

      // Show popup on button click
      getStartedBtn.addEventListener('click', () => {
        emailPopup.style.display = 'block';
        modalOverlay.style.display = 'block';
      });

      // Close popup on button click or overlay click
      closePopupBtn.addEventListener('click', () => {
        emailPopup.style.display = 'none';
        modalOverlay.style.display = 'none';
        emailForm.reset();
      });

      modalOverlay.addEventListener('click', () => {
        emailPopup.style.display = 'none';
        modalOverlay.style.display = 'none';
        messageBox.style.display = 'none';
        emailForm.reset();
      });

      // Close message box
      messageOkBtn.addEventListener('click', () => {
        messageBox.style.display = 'none';
        modalOverlay.style.display = 'none';
      });

      // Handle form submission
      emailForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        const email = emailInput.value;

        try {
          // Add the email to the 'subscribers' collection in Firestore
          await addDoc(collection(db, "subscribers"), {
            email: email,
            timestamp: new Date()
          });
          showMessageBox("Success!", "Thank you for signing up! We'll notify you when we launch.");
        } catch (error) {
          console.error("Error adding document: ", error);
          showMessageBox("Error", "There was a problem signing up. Please try again.");
        } finally {
          emailPopup.style.display = 'none';
          emailForm.reset();
        }
      });
    </script>
  </body>
</html>

